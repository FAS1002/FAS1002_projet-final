---
title: "Données"
title-block-banner: true
description: | 
  Cette page regroupe la première importation des données à l'état brute. 
# à changer
date: "2022-12-21"
# Modifier les détails que vous voulez
author:
  - name: "Juliette Leblanc"
    # Votre site web perso ou github
    url: https://github.com/JulLeblanc
    # les champs d'affiliation sont optionnels, vous pouvez les
    # comment out en ajoutant un # devant.
    affiliation: FAS1002
    affiliation-url: https://FAS1002.github.io/A22
    # changer pour votre propre orcid id
    # https://orcid.org/ pour vous inscrire.
    # orcid: 0000-0000-0000-0000

# TRUE == Générer une citation pour cette page précise. Pour enlever, mettre false.
citation: true
# Inclure les références que vous utilisez dans vos rapports. Je conseille Zotero pour construire
# ce fichier ou de connecter RStudio directement pour pouvoir citer avec @nom-de-reference.
bibliography: references.bib
---

```{r echo=FALSE, warning=FALSE,message=FALSE}

library(tidyverse)
library(fs)
library(lubridate)
library(skimr)
```

## Importer les données

#### *Our World in Data* 

J'utilise en premier la banque de données du *Co2 and Greenhouse Gaz Emissions*. Celle-ci sera mis à jour à tous les jours.

```{r}

unlink("data/raw/*.csv")
unlink("data/raw/*.xlsx")

```


```{r download, cache=TRUE}
#option cache=TRUE c'est si le code ne change pas, il ne devrait pas redownloader le fichier

url_owid <- "https://raw.githubusercontent.com/owid/co2-data/master/owid-co2-data.csv"

base_path <- path("data", "raw") # pour que nimporte qui puisse download avec le chemin relatif

fname_owid <- paste(today(), "owid-co2-data.csv", sep = "_") # name the file with today's date

fpath_owid <- path(base_path, fname_owid) 

data_owid <- download.file(url = url_owid, destfile = fpath_owid)
```

V1 : Le fichier a été téléchargé ici : `data/raw/2022-12-06_owid-co2-data.csv`



#### *Gapminder*

Pour la deuxième banque de données, je fais appel à celle produite par *Gapminder* qui se nomme *Life Expectancy at Birth*. Celle-ci seront re-téléchargé pour une mise à jour à tous les mois.

```{r}
url_gapminder <- "https://docs.google.com/spreadsheets/d/1RheSon1-q4vFc3AGyupVPH6ptEByE-VtnjOCselU0PE/export?format=xlsx"

base_path <- path("data", "raw")

fname_gap <- paste(today(), "gapm.xlsx", sep = "_")

fpath_gap <- path(base_path, fname_gap)

data <- download.file(url = url_gapminder, destfile = fpath_gap)
```

Le fichier a été téléchargé ici : `data/raw/2022-12-06_gapm.csv`







