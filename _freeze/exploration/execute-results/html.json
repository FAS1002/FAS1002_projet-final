{
  "hash": "4baf266218eaf5704049ebe289ea021c",
  "result": {
    "markdown": "---\ntitle: \"Exploration\"\ntitle-block-banner: false\ndescription: | \n  Cette page présente une exploration des différentes données ainsi qu'une analyse descriptive et statistique des ces différentes variables.\n# à changer\ndate: \"2022-12-21\"\n# Modifier les détails que vous voulez\nauthor:\n  - name: \"Juliette Leblanc\"\n    # Votre site web perso ou github\n    url: https://github.com/JulLeblanc\n    # les champs d'affiliation sont optionnels, vous pouvez les\n    # comment out en ajoutant un # devant.\n    affiliation: FAS1002\n    affiliation-url: https://FAS1002.github.io/A22\n    # changer pour votre propre orcid id\n    # https://orcid.org/ pour vous inscrire.\n    # orcid: 0000-0000-0000-0000\n\n# TRUE == Générer une citation pour cette page précise. Pour enlever, mettre false.\ncitation: true\n# Inclure les références que vous utilisez dans vos rapports. Je conseille Zotero pour construire\n# ce fichier ou de connecter RStudio directement pour pouvoir citer avec @nom-de-reference.\nbibliography: references.bib\n---\n\n\nNB : Ouvrir la bribe de code pour voir les `packages` nécessaires à l'importation et la manipulation des données.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(fs)\nlibrary(lubridate)\nlibrary(skimr)\nlibrary(gapminder)\nlibrary(countrycode)\nlibrary(cronR)\nlibrary(modelsummary)\nlibrary(patchwork)\n\ndf_owid <- read_csv(\"data/processed/df_owid.csv\", show_col_types = FALSE)\n\ndf_gapminder <- read_csv(\"data/processed/df_gapminder.csv\", show_col_types = FALSE)\n```\n:::\n\n\n## Statistiques descriptives\n\n### *Life Expectancy at Birth*\n\nLa première est celle du *Life Expectancy* qui comprend au total 5 variables et plus de 56616 observations. Cette banque de données et mis à jour régulièrement et continent des observations pour :\n\n-   Un total de 195 pays\n\n-   Calculées depuis 1800 et estiment l'espérance de vie moyenne pour les différents pays jusqu'en 2100.\n\n-   La banque de donnée regroupe les pays sous les 5 continents principaux soit l'Afrique, les Amériques, l'Asie, l'Europe et l'Océanie.\n\nVoici notamment un récapitulatif des données.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nskim(df_gapminder)\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |             |\n|:------------------------|:------------|\n|Name                     |df_gapminder |\n|Number of rows           |56616        |\n|Number of columns        |5            |\n|_______________________  |             |\n|Column type frequency:   |             |\n|character                |3            |\n|numeric                  |2            |\n|________________________ |             |\n|Group variables          |None         |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|geo           |         0|             1|   3|   3|     0|      195|          0|\n|country       |         0|             1|   3|  30|     0|      195|          0|\n|continent     |         0|             1|   4|   8|     0|        5|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|    mean|    sd|      p0|    p25|     p50|     p75|    p100|hist  |\n|:-------------|---------:|-------------:|-------:|-----:|-------:|------:|-------:|-------:|-------:|:-----|\n|year          |         0|             1| 1950.38| 86.51| 1800.00| 1876.0| 1952.00| 2024.00| 2100.00|▇▇▇▇▇ |\n|life_exp      |         0|             1|   53.35| 21.32|    1.01|   32.9|   50.02|   73.96|   94.42|▁▇▃▅▅ |\n:::\n:::\n\n\nIl est possible aussi d'observer l'évolution de l'espérance de vie moyenne en fonction des continents. Les grandes cassures dans le temps peuvent être attribuables à différentes périodes historiques.\n\nNotamment, la grand cassure avant les années 1920 peuvent être à la fois attribuables à la Première Guerre mondiale, mais également à l'épidémie de la Grippe espagnole. La même tendance est observable dans les années 1940 pour la Seconde Guerre mondiale et plus récemment, la légère fracture pour la pandémie de la COVID-19.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngraph <- df_gapminder |> \n    group_by(continent,\n             year) |> \n    mutate(mean_continent = mean(life_exp, na.rm = TRUE)) |> \n    ungroup() |> \n    group_by(year) |> \n    mutate(mean_world = mean(life_exp, na.rm = TRUE))\n    \n\np1 <- ggplot() +\n    geom_line(data = graph,\n             aes(x = year,\n                 y = mean_continent,\n                 color = continent)) +\n    scale_x_continuous(n.breaks = 12) +\n    scale_color_discrete(name = \"Continents\",\n                         labels = c(\"Afrique\",\n                                    \"Amériques\",\n                                    \"Asie\",\n                                    \"Europe\",\n                                    \"Océanie\")) +\n    theme_bw() + \n    labs(title = \"Évolution de l'espérance de vie\",\n         source = \"https://ourworldindata.org/co2-and-other-greenhouse-gas-emissions\",\n         x = \" \",\n         y = \" \") \np1\n```\n\n::: {.cell-output-display}\n![](exploration_files/figure-html/graph for life expectancy-1.png){width=672}\n:::\n\n```{.r .cell-code}\np2 <-  ggplot(data = graph,\n              aes(x = year,\n                      y = mean_world)) +\n    geom_line() +\n    scale_x_continuous(n.breaks = 12) +\n    theme_bw() + \n    labs(title = \"Évolution de l'espérance de vie mondiale\",\n         source = \"https://ourworldindata.org/co2-and-other-greenhouse-gas-emissions\",\n         x = \" \",\n         y = \" \")\n\np2\n```\n\n::: {.cell-output-display}\n![](exploration_files/figure-html/graph for life expectancy-2.png){width=672}\n:::\n:::\n\n\n### *Our World in Data, Co2*\n\nLa banque de données est [*\\@owid*](https://raw.githubusercontent.com/owid/co2-data/master/owid-co2-data.csv), qui a comme but principal de décrire comment les émissions de Co2 et de gaz à effets de serres évoluent dans le temps.\n\nLa banque de données présentent plus de :\n\n-   75 variables comme le PIB, le nombre d'habitants dans le pays, l'année et une variable qui a été ajouté et celle qui regroupe les pays sous les 5 continents,\n\n-   Différentes mesures pour le Co2 comme l'émissions brutes, l'accumulation ou bien le rendement par énergie dépensé, etc.\n\n-   Les données enregistrées sont mise à jour de manière presqu'hebdomadaire et ont des observations débutants en 1750.\n\nPuisque la banque de données regroupent de nombreuses variables, une sélection des plus importantes pour les analyses qui suivront a été fait. Les variables qui ont été retenues sont celles du :\n\n-   Pays `country`,\n\n-   Années `year`,\n\n-   Continents `continent`,\n\n-   PIB `gdp`,\n\n-   Nombre d'habitants total `population`,\n\n-   Co2 `co2`,\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nowid <- df_owid |> \n    select(country,\n           year,\n           continent,\n           gdp,\n           population,\n           co2)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nskim(owid)\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |      |\n|:------------------------|:-----|\n|Name                     |owid  |\n|Number of rows           |46523 |\n|Number of columns        |6     |\n|_______________________  |      |\n|Column type frequency:   |      |\n|character                |2     |\n|numeric                  |4     |\n|________________________ |      |\n|Group variables          |None  |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|country       |         0|          1.00|   4|  32|     0|      269|          0|\n|continent     |     44891|          0.04|   4|   9|     0|        5|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|         mean|           sd|       p0|          p25|          p50|          p75|         p100|hist  |\n|:-------------|---------:|-------------:|------------:|------------:|--------:|------------:|------------:|------------:|------------:|:-----|\n|year          |         0|          1.00| 1.925690e+03| 6.104000e+01|     1750| 1.882000e+03| 1.930000e+03| 1.977000e+03| 2.021000e+03|▁▂▇▇▇ |\n|gdp           |     31972|          0.31| 2.679977e+11| 2.104075e+12| 49980000| 7.530493e+09| 2.605900e+10| 1.134711e+11| 1.136302e+14|▇▁▁▁▁ |\n|population    |      7949|          0.83| 6.005374e+07| 3.280828e+08|       21| 3.808912e+05| 2.509282e+06| 9.996447e+06| 7.909295e+09|▇▁▁▁▁ |\n|co2           |     15174|          0.67| 3.799900e+02| 1.799880e+03|        0| 1.200000e-01| 3.110000e+00| 4.366000e+01| 3.712385e+04|▇▁▁▁▁ |\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngraph_owid_world <- df_owid |> \n    filter(country == \"World\") |> \n    select(co2,\n           year,\n           country)\n\nggplot(data = graph_owid_world,\n       aes(x = year,\n           y = co2)) +\n    geom_line() +\n    scale_x_continuous(n.breaks = 12) +\n    scale_y_continuous(n.breaks = 5) +\n    geom_point(size = 0.3) +\n    labs(title = \"Co2 total mondial\") +\n    theme_bw()\n```\n\n::: {.cell-output-display}\n![](exploration_files/figure-html/co2 evolution world-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngraph_owid <- df_owid |> \n    filter(is.na (continent) == FALSE,\n           is.na (co2) == FALSE) |> \n    group_by(continent,\n             year) |> \n    select(co2)\n\np3 <- ggplot(data = graph_owid,\n             aes(x = year,\n                 y = co2,\n                 color = continent)) +\n    geom_line(stat = \"identity\") +\n    scale_color_discrete(name = \"Continents\",\n                         labels = c(\"Afrique\",\n                                    \"Amériques\",\n                                    \"Asie\",\n                                    \"Europe\",\n                                    \"Océanie\")) +\n    theme_bw()\np3\n```\n\n::: {.cell-output-display}\n![](exploration_files/figure-html/graph for co2 emission-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = graph_owid,\n       aes(x = year,\n           y = co2,\n           colour = continent)) +\n    geom_point(size = 0.3) +\n    theme_bw()\n```\n\n::: {.cell-output-display}\n![](exploration_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nPlus de CO2 en 2021\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_owid |> \n    filter(year == 2021) |> \n    select(country,\n           co2) |> \n    arrange(desc(co2))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 260 × 2\n   country                          co2\n   <chr>                          <dbl>\n 1 World                         37124.\n 2 Non-OECD (GCP)                24398.\n 3 Asia                          21689.\n 4 Asia (GCP)                    18971.\n 5 Upper-middle-income countries 17039.\n 6 High-income countries         12516.\n 7 OECD (GCP)                    11704.\n 8 China                         11472.\n 9 Asia (excl. China and India)   7507.\n10 Lower-middle-income countries  6259.\n# … with 250 more rows\n```\n:::\n:::\n\n\nco2 en 2021 : world is 37 milliards de tonnes?\nChine - 11 millards (Asie 21)\nUSA - 5007\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_5 <- df_owid |> \n    filter(country == c(\"China\",\n                        \"United States\",\n                        \"India\",\n                        \"Russia\")) |> \n    select(year,\n           co2,\n           country)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in country == c(\"China\", \"United States\", \"India\", \"Russia\"): longer\nobject length is not a multiple of shorter object length\n```\n:::\n\n```{.r .cell-code}\nggplot(top_5) +\n    aes(x = year,\n        y = co2,\n        fill = country) +\n    geom_area(alpha = 0.4) +\n    scale_fill_hue(direction = 1) +\n    geom_line(data = graph_owid_world,\n              aes(x = year,\n                  y = co2,\n                  fill = country),\n              alpha = 0.5) +\n    theme_bw() \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Ignoring unknown aesthetics: fill\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 17 rows containing missing values (position_stack).\n```\n:::\n\n::: {.cell-output-display}\n![](exploration_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nPays riches qui produisent le plus de co2 ? apparently yes\n\n::: {.cell}\n\n```{.r .cell-code}\nrich <- df_owid |> \n    filter (country == c(\"Upper-middle-income countries\",\n                         \"High-income countries\",\n                         \"Lower-middle-income countries\",\n                         \"Low-income countries\")) |> \n    select(country,\n           co2,\n           year,\n           gdp)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in country == c(\"Upper-middle-income countries\", \"High-income\ncountries\", : longer object length is not a multiple of shorter object length\n```\n:::\n\n```{.r .cell-code}\nggplot(data = rich,\n       aes(x = year,\n           y = co2,\n           fill = country)) +\n    geom_area(alpha = 0.3) +\n        geom_line(data = graph_owid_world,\n              aes(x = year,\n                  y = co2,\n                  fill = country),\n              alpha = 0.5) +\n    theme_bw()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Ignoring unknown aesthetics: fill\n```\n:::\n\n::: {.cell-output-display}\n![](exploration_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\nIndustrie plus émettrices\n\n::: {.cell}\n\n:::\n\n\n\n## Combinaison\n\nOn peut également entreprendre des analyses via la combinaison des deux banques de données puisqu'elles ont comme variables communes les années, les continents ainsi que la majorité des pays observés.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- inner_join(x = df_gapminder,\n                  y = owid)\n\nskim(dat)\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |     |\n|:------------------------|:----|\n|Name                     |dat  |\n|Number of rows           |0    |\n|Number of columns        |8    |\n|_______________________  |     |\n|Column type frequency:   |     |\n|character                |3    |\n|numeric                  |5    |\n|________________________ |     |\n|Group variables          |None |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate|min |max | empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|:---|:---|-----:|--------:|----------:|\n|geo           |         0|           NaN|NA  |NA  |     0|        0|          0|\n|country       |         0|           NaN|NA  |NA  |     0|        0|          0|\n|continent     |         0|           NaN|NA  |NA  |     0|        0|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate| mean| sd| p0| p25| p50| p75| p100|hist |\n|:-------------|---------:|-------------:|----:|--:|--:|---:|---:|---:|----:|:----|\n|year          |         0|           NaN|  NaN| NA| NA|  NA|  NA|  NA|   NA|     |\n|life_exp      |         0|           NaN|  NaN| NA| NA|  NA|  NA|  NA|   NA|     |\n|gdp           |         0|           NaN|  NaN| NA| NA|  NA|  NA|  NA|   NA|     |\n|population    |         0|           NaN|  NaN| NA| NA|  NA|  NA|  NA|   NA|     |\n|co2           |         0|           NaN|  NaN| NA| NA|  NA|  NA|  NA|   NA|     |\n:::\n:::\n",
    "supporting": [
      "exploration_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}