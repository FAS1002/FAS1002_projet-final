---
title: "Exploration et analyse"
title-block-banner: false
description: | 
  Cette page présente une exploration des différentes données ainsi qu'une analyse descriptive et statistique des ces différentes variables.
# à changer
date: "2022-12-21"
# Modifier les détails que vous voulez
author:
  - name: "Juliette Leblanc"
    # Votre site web perso ou github
    url: https://github.com/JulLeblanc
    # les champs d'affiliation sont optionnels, vous pouvez les
    # comment out en ajoutant un # devant.
    affiliation: FAS1002
    affiliation-url: https://FAS1002.github.io/A22
    # changer pour votre propre orcid id
    # https://orcid.org/ pour vous inscrire.
    # orcid: 0000-0000-0000-0000

# TRUE == Générer une citation pour cette page précise. Pour enlever, mettre false.
citation: true
# Inclure les références que vous utilisez dans vos rapports. Je conseille Zotero pour construire
# ce fichier ou de connecter RStudio directement pour pouvoir citer avec @nom-de-reference.
bibliography: references.bib
---

```{r importing processed, warning=FALSE, error=FALSE, show_col_types=FALSE}
library(tidyverse)
library(fs)
library(lubridate)
library(skimr)
library(gapminder)
library(countrycode)
library(cronR)

df_owid <- read_csv("data/processed/df_owid.csv")

df_gapminder <- read_csv("data/processed/df_gapminder.csv")
```

## Statistiques descriptives

La banque de données est une banque de données qui est compris dans `R` dans la librairie `gapminder`. Nous utiliserons plus précisément une sous banque de donnée qui est inclus dans cette librairie, soit celle du *Life Expectancy at Birth* qui calcul l'évoluation des l'espérance de vie par pays et à chaque année.

La banque de données comprend 5 variables sous 56616 observations et il est possible de présenter différentes valeurs de celles-ci.

-   Les données sont calculées pour 195 pays

-   Celles-ci sont calculées depuis 1800 et estiment l'espérance de vie moyenne pour les différents pays jusqu'en 2100.

-   La banque de donnée regroupe les pays sous les 5 continents principaux soit l'Afrique, les Amériques, l'Asie, l'Europe et l'Océanie.

```{r}
skim(df_gapminder)
```

```{r graph for life expectancy, warning=FALSE, error=FALSE}
graph <- df_gapminder |> 
    group_by(continent,
             year) |> 
    summarise(mean = mean(`Life expectancy`, na.rm = T))

p1 <- ggplot(data = graph,
             aes(x = as.numeric(year),
                 y = mean,
                 color = continent)) +
    geom_line(stat = "identity") +
    scale_x_continuous(n.breaks = 12) +
    scale_color_discrete(name = "Continents",
                         labels = c("Afrique",
                                    "Amériques",
                                    "Asie",
                                    "Europe",
                                    "Océanie")) +
    theme_bw() + 
    labs(title = "Évolution de l'espérance de vie",
         source = "https://ourworldindata.org/co2-and-other-greenhouse-gas-emissions",
         x = " ",
         y = " ")

p1
```

La banque de données est [*\@owid*](https://raw.githubusercontent.com/owid/co2-data/master/owid-co2-data.csv), qui a comme but principal de décrire comment les émissions de Co2 et de gaz à effets de serres évoluent dans le temps.

```{r graph for co2 emission, warning=FALSE, error=FALSE}
graph_owid <- df_owid |> 
    filter(is.na (continent) == FALSE) |> 
    group_by(continent,
             year) |> 
    select(co2)

p2 <- ggplot(data = graph_owid,
             aes(x = year,
                 y = co2,
                 color = continent)) +
    geom_line(stat = "identity") +
    scale_color_discrete(name = "Continents",
                         labels = c("Afrique",
                                    "Amériques",
                                    "Asie",
                                    "Europe",
                                    "Océanie"))
p2
```

```{r descriptives, warning=FALSE, error=FALSE}

```
